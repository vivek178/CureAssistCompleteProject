<app-navbar></app-navbar>
<h4>Your Test Reports</h4>

<div class="mat-elevation-z2">
    <div class="reports-container" *ngIf="allTestReports.length == 0">
      <h4>Test Reports</h4>
      <div>
        You don't have any reports.
      </div>
    </div>
    <div class="appointments-container" *ngIf="allTestReports.length > 0">
      <p class="title">Test Reports</p>
      <mat-table class="appointments" [dataSource]="allTestReports">
        <ng-container cdkColumnDef="doctorFirstName">
          <mat-header-cell *cdkHeaderCellDef> Test Name </mat-header-cell>
          <mat-cell *cdkCellDef="let appointment">
           {{appointment.nameOfTestConducted | titlecase}}</mat-cell>
        </ng-container>
        <ng-container cdkColumnDef="doctorPhoneNumber">
          <mat-header-cell *cdkHeaderCellDef>File Name</mat-header-cell>
          <mat-cell *cdkCellDef="let appointment">
            {{appointment.fileName | titlecase}}</mat-cell>
        </ng-container>
        <ng-container cdkColumnDef="startTime">
          <mat-header-cell *cdkHeaderCellDef>Report</mat-header-cell>
    <mat-cell *cdkCellDef="let appointment"><button mat-raised-button color="primary" (click)="getUrlOfReport(appointment.patientId, appointment.fileName)">View Report </button>
            <hr>
            </mat-cell>
        </ng-container>
        <mat-header-row *cdkHeaderRowDef="['doctorFirstName','doctorPhoneNumber','startTime']">
        </mat-header-row>
        <mat-row *cdkRowDef="let appointment; columns: ['doctorFirstName','doctorPhoneNumber','startTime']">
        </mat-row>
      </mat-table>
    </div>
    <ngx-doc-viewer *ngIf="rxdFileUrl" [url]="fileUrl" viewer="google" style="width:100%;height:50vh;"></ngx-doc-viewer>
  </div>
  
  
